<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
 	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:p="http://primefaces.org/ui">
	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
		<title>
			<h:outputText value="#{msgs.application_title}"></h:outputText>
		</title>
		<link rel="shortcut icon" href="#{resource['ssp-web-res/images/icons/favicon.ico']}" type="image/x-icon" />
		<h:outputStylesheet library="ssp-web-res" name="css/main-style.css" />
		<h:outputStylesheet library="ssp-web-res" name="css/customer-style.css" />
		<h:outputStylesheet library="ssp-web-res" name="lib/font-awesome-4.2.0/css/font-awesome.css" />
		<h:outputScript library="ssp-web-res" name="js/ssp-functions.js"></h:outputScript>
	</h:head>
	<body>
	
		<f:metadata>
			<f:event type="preRenderView" listener="#{loginMBean.checkUserIsAuthenticated}" />
		</f:metadata>
		
		<div class="main-container-index">
		
			<p:growl id="loginGrowlDialog" life="8000" autoUpdate="true" />
		
			<div class="header-tool-bar index-toolbar">
				<h:form class="form-header-options">
					<ul>
						<li>
							<i class="fa fa-user"></i>
							<h:commandLink value="#{msgs.button_register}" />
						</li>
						<li>|</li>
						<li>
							<i class="fa fa-unlock-alt"></i>
							<h:commandLink value="#{msgs.button_forgot_pass}" />
						</li>
					</ul>
				</h:form>
			</div>
			<div class="index-login-messages">
		  		<p:messages id="messages" showDetail="false" autoUpdate="true" closable="true" />
		  	</div>
			<div class="index-logo">
				<h:graphicImage library="ssp-web-res" name="images/logo.png"></h:graphicImage>
			</div>
			<div class="index-login-area">
				<div class="index-login-fields">
					<h:form class="form-login" >
					
						<p:focus context="login-grid" />
											
						<p:panelGrid id="login-grid">
							<p:row>  
				       			<p:column><h:outputLabel for="username" value="#{msgs.label_user}" /></p:column>
				       			<p:column>
				       				<p:inputText id="username" value="#{loginMBean.username}" required="true" requiredMessage="#{msgs.validation_required_username}"  />
				       			</p:column>
				       		</p:row>
				       		<p:row>
				       			<p:column><h:outputLabel for="password" value="#{msgs.label_password}" /></p:column>
				       			<p:column>
				       				<p:password id="password" value="#{loginMBean.password}" required="true" requiredMessage="#{msgs.validation_required_password}" />
				       			</p:column>
				       		</p:row>
				       		<p:row>
				       			<p:column style='vertical-align:bottom;'>
				       				<h:selectBooleanCheckbox id="keepMeConnected" value="#{loginMBean.keepMeConnected}" />
				       				<h:outputLabel for="keepMeConnected" value="#{msgs.label_keep_conected}" styleClass="small-text" />
				       			</p:column>
				       			<p:column style='text-align:right;'> 
				       				<p:commandButton value="#{msgs.button_login}" styleClass="command-button" action="#{loginMBean.doLogin}" update="login-grid">
				       					<f:param name="context" value="customer" />
				       					<f:actionListener type="org.ffsc.ssp.web.security.SSPAuthenticationListener" />
				       				</p:commandButton>
				       			</p:column>
				       		</p:row>
				       	</p:panelGrid>
				    </h:form>
			    </div>
			</div>
			<div class="index-version">
				<h:outputText value="#{msgs.module_customer_version} "></h:outputText>
				<h:outputText value="#{initParam['moduleCustomerVersion']}"></h:outputText>
			</div>
			<div class="index-footer">
				<div class="index-footer-content">
					<h:outputText value="#{msgs.application_footer}"></h:outputText>
				</div>
			</div>
			
		</div>
	</body>
</html>